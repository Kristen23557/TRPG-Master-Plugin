# TRPG-Master-Plugin
TRPG plugin for Maibot

TRPG 插件，让麦麦成为你的赛博DM/KP

🎯 功能特性
核心功能
多规则系统支持：完整支持CoC 7th和DnD 5e规则
智能剧情推进：集成AI模型自动推进剧情发展
完整的游戏流程：从剧本创建到角色扮演的全流程支持
实时战斗系统：回合制战斗管理，支持先攻排序和状态跟踪

角色管理
双模式角色创建：支持CoC和DnD角色创建，自动规则校验
角色数量限制：每个用户最多3个CoC角色和3个DnD角色
角色存储系统：角色数据持久化存储，支持跨剧本使用
完整的角色操作：创建、加载、查看、删除一体化管理

游戏机制
规则差异化检定：
CoC：D100骰子，优势取小/劣势取大，五级难度分级
DnD：D20骰子，优势取大/劣势取小，DC难度等级

多样化骰子系统：支持D2-D1000任意面数骰子
NPC管理系统：团长可创建和管理NPC角色
物品分配系统：支持物品的给予和背包管理

用户体验
智能帮助系统：全局/trpg命令和逐命令help参数
无需状态查询：帮助命令无需加入剧本即可使用
详细的错误提示：友好的错误信息和操作指引
自动化流程：自动剧本召集、角色创建引导

🚀 快速开始
1. 用户注册
# 私聊机器人进行注册(不私聊也行，但是建议私聊)
/register
2. 角色创建
# 创建CoC角色
/role create coc 张三 侦探 {str:60;con:70;dex:50;app:65;pow:75;siz:55;int:80;edu:85;luck:50}
# 创建DnD角色  
/role create dnd 李四 战士 {力量:16;敏捷:14;体质:15;智力:10;感知:12;魅力:8}
3. 开始游戏
# 团长开始剧本
/start coc plot=神秘庄园 roles=4
# 玩家加入剧本
/join 123456
# 加载角色到剧本
/role load R12345
4. 开始冒险
# 进行检定
/check 侦查
/check 力量检定 adv
# 掷骰子
/dice D20
# 推进剧情
（发送"推进剧情"、"继续故事"等关键词）
📚 命令手册
全局命令
命令	说明	示例
/trpg	显示全局帮助菜单	/trpg
剧本管理
命令	说明	示例
/start	开始新剧本	/start coc plot=剧本名
/join	加入剧本	/join 123456
/save	保存游戏进度	/save 第一章结束
角色管理
命令	说明	示例
/role create	创建角色	/role create coc 角色名 职业 {属性}
/role load	加载角色	/role load R12345
/role list	查看角色列表	/role list
/role view	查看角色详情	/role view R12345
/role delete	删除角色	/role delete R12345

————————————————————————————————————————————————————————————————————————————————————————
📁 文件结构
text
TRPG_Plugin/
├── plugin.py              # 主插件文件
├── config.toml            # 配置文件
├── plots/                 # 剧本目录
│   └── *.txt             # 剧本文件
├── roles/                 # 角色存储
│   └── *.json            # 角色数据文件
├── saves/                 # 存档目录
│   └── *.json            # 游戏存档
├── users/                 # 用户数据
│   └── *.txt             # 用户注册信息
└── README.md             # 说明文档

📄 许可证
本项目采用MIT许可证，详见LICENSE文件。

🆘 获取帮助
使用 /trpg 命令查看全局帮助
在任何命令后添加 help 参数查看详细说明
查看具体的命令帮助，如 /role help
